# 二分查找法

在 Python 中分别用循环和递归两种方式实现二分查找法
二分查找的时间复杂度是 $O(\log_{2}n)​$ 

## 1. 循环方式

```python
# -*- coding: utf-8 -*-
def binary_search_loop(a_list: list, item: int):
    """
    二分查找，循环方式
    :param a_list: 有序列表
    :param item: 被查找的目标项
    :return: 如果a_list中包含item，返回item的索引值，否则返回None
    """
    low = 0
    high = len(a_list) - 1
    while low <= high:
        mid = (low + high) // 2
        guess = a_list[mid]
        if guess == item:
            return mid
        elif guess > item:
            high = mid - 1
        else:
            low = mid + 1
    return None

if __name__ == '__main__':
    my_list = [1, 2, 3, 4]
    assert binary_search_loop(my_list, 1) == 0
    assert binary_search_loop(my_list, 2) == 1
    assert binary_search_loop(my_list, 3) == 2
    assert binary_search_loop(my_list, 4) == 3
    assert binary_search_loop(my_list, 10) is None
```

## 2. 递归方式

- 基线条件：数组只包含一个元素，如果目标值与该元素相同，便在最终的基线条件下找到了目标值，否则目标值不在数组中。
- 递归条件：每次把数组分成两半，并丢弃其中的一半，对剩下的一半再次执行二分查找。

```python
# -*- coding: utf-8 -*-
def binary_search_recursive(a_list: list, item: int):
    """
    二分查找，递归方式
    :param a_list: 有序列表
    :param item: 被查找的目标项
    :return: 如果a_list中包含item，返回item的索引值，否则返回None
    """
    mid = (len(a_list) - 1) // 2
    if len(a_list) == 1:  # 基线条件
        if item == a_list[0]:
            return 0
        else:
            return None
    elif item == a_list[mid]:  # 基线条件
        return mid
    # 下面的代码，通过递归逐步缩减问题规模
    if item > a_list[mid]:
        index = binary_search_recursive(a_list[mid + 1:], item)
        if index is None:
            return None
        # 减半后的新列表a_list[mid + 1:]会重新以索引0开头，
        # 这里需要保证返回的索引值包含当前a_list列表的索引信息，
        # 因此需要重新调整index中的索引值。
        # 要将index中的索引值调整到a_list列表中的对应位置，
        # 需要为index加上(mid + 1)
        return index + (mid + 1)
    else:
        index = binary_search_recursive(a_list[:mid], item)
        return index


if __name__ == '__main__':
    assert binary_search_recursive(my_list, 1) == 0
    assert binary_search_recursive(my_list, 2) == 1
    assert binary_search_recursive(my_list, 3) == 2
    assert binary_search_recursive(my_list, 4) == 3
    assert binary_search_recursive(my_list, 10) is None
```

